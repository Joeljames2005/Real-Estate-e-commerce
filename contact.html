<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - Real Estate Chennai</title>
    <link rel="stylesheet" href="styles.css">
</head>

<script type="module">
    // Import Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js";

    // Firebase Configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCwe0qStrRKc-sY1X84OUSYI20N0e-BaJ0",
        authDomain: "realestate-d5629.firebaseapp.com",
        projectId: "realestate-d5629",
        storageBucket: "realestate-d5629.appspot.com", // ‚úÖ Fixed storageBucket
        messagingSenderId: "161382006957",
        appId: "1:161382006957:web:a3c175dc24e77e276a4624"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Function to save contact form data
    window.submitContactForm = async function () {
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const mobile = document.getElementById("mobile").value.trim();
        const message = document.getElementById("message").value.trim();
        const statusMsg = document.getElementById("status-message");

        if (!name || !email || !mobile || !message) {
            statusMsg.innerText = "‚ùå All fields are required!";
            statusMsg.style.color = "red";
            return;
        }

        try {
            await addDoc(collection(db, "contacts"), {
                name,
                email,
                mobile,
                message,
                timestamp: new Date()
            });

            statusMsg.innerText = "‚úÖ Message sent successfully!";
            statusMsg.style.color = "green";
            statusMsg.style.textAlign = "center";
            document.getElementById("contact-form").reset();
        } catch (error) {
            console.error("Firestore Error:", error);
            statusMsg.innerText = "‚ùå Failed to send message.";
            statusMsg.style.color = "red";
        }
    };
</script>

<body>
    <header>
        <h1>Contact Us</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="properties.html">Properties</a></li>
                <li><a href="wishlist.html">Wishlist</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="contact-info">
            <h2>üìç Contact Details</h2>
            <p><strong>Address:</strong> No 20, College Road, Mogappair West, Chennai - 600037</p>
            <p><strong>üìç Location:</strong></p>
            <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3890.0066926389935!2d80.17930387475418!3d13.08692168725598!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a5260e9f6ea7cd9%3A0xb3a91e3b2ff93099!2sMogappair%20West%2C%20Chennai%2C%20Tamil%20Nadu%20600037!5e0!3m2!1sen!2sin!4v1707896543210!5m2!1sen!2sin"
                width="100%" height="300"
                style="border:0; border-radius: 10px; box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);" allowfullscreen=""
                loading="lazy" referrerpolicy="no-referrer-when-downgrade">
            </iframe>

            <p><strong>üìû Phone:</strong> <a href="tel:+919585743650">+91 95857 43650</a></p>
            <p><strong>üí¨ WhatsApp:</strong> <a href="https://wa.me/919585743650" target="_blank">Chat on WhatsApp</a></p>
            <p><strong>üìß Email:</strong> <a href="mailto:zorousanji@gmail.com">zorousanji@gmail.com</a></p>
        </section>

        <section id="contact-forms">
            <h2 style="text-align: center;">Get in Touch</h2>
            <p style="text-align: center;">Fill out the form below, and we'll get back to you soon.</p>

            <form id="contact-form">
                <input type="text" id="name" placeholder="Your Name" required>
                <input type="email" id="email" placeholder="Your Email" required>
                <input type="tel" id="mobile" placeholder="Your Mobile Number" required> <!-- ‚úÖ Added missing input -->
                <textarea id="message" placeholder="Your Message" required></textarea>
                <button type="button" onclick="submitContactForm()">Send Message</button>
            </form>

            <p id="status-message"></p>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Real Estate Marketplace - Chennai</p>
    </footer>
</body>

</html>